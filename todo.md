# Project TODO

- [x] 設計資料庫 Schema（KYC、卡片、交易、Webhook 事件、3DS 驗證碼）
- [x] 建立 WasabiCard API 代理工具（簽名、請求、錯誤處理）
- [x] 後端 tRPC Router：KYC 申請與狀態查詢
- [x] 後端 tRPC Router：卡片管理（開卡、凍結、解凍、餘額查詢）
- [x] 後端 tRPC Router：卡片充值（USDT 入金）
- [x] 後端 tRPC Router：交易記錄查詢
- [x] 後端 tRPC Router：ATM 提領管理
- [x] 後端 tRPC Router：商戶主錢包餘額查詢
- [x] Webhook Express 路由（卡片交易、授權交易、3DS、KYC 狀態）
- [x] 3DS 驗證碼接收與前端推送邏輯
- [x] 前端：深色主題與全局樣式設定
- [x] 前端：DashboardLayout 側邊欄導航配置
- [x] 前端：Dashboard 首頁（餘額總覽、快捷操作）
- [x] 前端：KYC 申請頁面（表單、證件上傳、狀態追蹤）
- [x] 前端：卡片管理頁面（卡片列表、開卡、凍結/解凍）
- [x] 前端：充值頁面（USDT 入金地址、充值記錄）
- [x] 前端：交易記錄頁面（消費、退款、手續費明細）
- [x] 前端：ATM 提領管理頁面（提領申請、激活碼、狀態追蹤）
- [x] 撰寫 Vitest 測試
- [ ] 環境變數配置（WASABI_API_KEY、WASABI_API_URL 等）— 需用戶提供 API 密鑰
- [x] 建立 WasabiCard API 模擬層（Mock Service）
- [x] 修正後端 routers 使用模擬層，確保所有功能可完整運作
- [x] 前端展示模擬數據驗證所有頁面正常

## 新增需求

- [x] 修正 ATM 提領功能 - 只管理提領密碼（激活碼），移除金額等欄位
- [x] 集成多語言支持 (i18n) - 繁體中文、簡體中文、英文、日文
- [x] 修改主題為白底亮色風格
- [x] 增強按鈕和輸入框視覺對比
- [x] 新增 Email 註冊功能
- [ ] 推送至 GitHub


## 管理後台功能

- [x] 擴展資料庫 Schema - 添加 KYC 文件存儲記錄表
- [x] 後端 API - KYC 審核列表查詢（待審核、已批准、已拒絕）
- [x] 後端 API - KYC 批准/拒絕功能
- [x] 後端 API - 用戶列表查詢與詳細資訊
- [x] 後端 API - 文件預覽 URL 產生
- [x] 前端 - 管理後台首頁（儀表板）
- [x] 前端 - KYC 審核面板（待審核列表、文件預覽、批准/拒絕按鈕）
- [x] 前端 - 用戶管理頁面
- [x] 前端 - 權限控制（只有 admin 可訪問）
- [x] 測試驗證與交付


## 批量操作功能

- [x] 後端 API - 批量批准 KYC 申請
- [x] 後端 API - 批量拒絕 KYC 申請
- [x] 前端 - KYC 列表添加複選框
- [x] 前端 - 批量操作工具欄（全選/反選、批量批准、批量拒絕）
- [x] 前端 - 批量操作結果提示
- [x] 測試驗證

## KYC 文件上傳功能

- [x] 後端 API - 文件上傳路由（支援 S3 存儲）
- [x] 前端 - KYC 申請表單添加文件上傳區域
- [x] 前端 - 支援身份證正面、背面、自拍照上傳
- [x] 前端 - 文件預覽及上傳狀態提示
- [x] 管理後台 - 文件預覽功能


## 審核日誌與統計功能

- [x] 擴展資料庫 Schema - 添加 kycAuditLog 表
- [x] 後端 API - 記錄 KYC 操作日誌
- [x] 後端 API - 審核日誌查詢路由
- [x] 後端 API - KYC 統計數據路由（待審核數、批准率、平均審核時間等）
- [x] 後端 API - 審核者績效分析路由
- [x] 前端 - 審核日誌頁面（支援篩選、搜尋）
- [x] 前端 - 統計儀表板（圖表展示）
- [x] 前端 - 審核者績效分析頁面
- [x] 測試驗證
